#!/bin/bash

dirBase=$(pwd)
dirName=$1
fileName=$2
fileName_clean=$(basename $fileName .test)

echo -e "\n"

if [ $# -lt 2 ]; then
		echo '[x] need at least 2 arguments!'
		exit 1
else
		echo '[v] num of arguments >= 2!!!!!!'
fi


if [ -d $dirName ]; then
    echo "[v] The folder '$dirName' exists"
else														
    echo "[x] The folder does not exist"
		exit 2
fi															


if [ -r $dirName/$fileName ]; then
    echo "[v] The file '$fileName' is readable at '$dirName'"
else														
    echo "[x] The file does not exist or not readable!"
		exit 3 
fi															

logFolder=$(date +"%Y%m%d.%H%M%S")

mkdir '$dirName'
echo dirName status $?

# mkdir -p $logFolder
# if [ $? -ne 0 ];then
# 		echo "Error: failed to create folder '$logFolder'"
#     exit 4
# fi

# cd $dirName
# cp $fileName $dirBase/$logFolder    #copy one to base backup folder
# $fileName                            #exec the .test
# echo $? > $dirBase/$logFolder/$fileName_clean.status
# echo $($fileName) > $dirBase/$logFolder/$fileName_clean.stdout 2> $dirBase/$logFolder/$fileName_clean.stderr
# cd $dirBase

# echo -e "\n"
# find . -type f -name "test*" ! -name "*.*" -print -exec runtest.sh {} \;
echo -e "\n"
